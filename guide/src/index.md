---
sidebar: auto
---

クラウド総合演習 演習ガイド
==

###### v25.08.25.01

## 補足事項
> 8/25追記
- 以下は補足事項です。必要に応じて参照してください
[補足事項](https://hackmd.io/@RV-fkwvvTR-oXdYJEpERsg/BkBcCQEKgx)

## 演習概要
- 要件定義で提示された要件をもとに設計を行い、クラウド上にWebアプリケーションを展開する演習です
- チームで活動するため、役割分担やスケジューリング、チームマネジメントも必要です
- Webアプリケーションは完成させて終わりではなく、テスト項目に基づいた試験を行い品質が担保されたものを提出する必要があります
- 最終日には成果振り返り会（発表会）を行い、取り組んだ結果を全員で共有します
## 進め方
- 演習の全体像や成果振り返り会に関する内容は、別途展開されるオリエンテーション資料を参照してください 
- オリエンテーションは、コース初日の午前中に開催されます。以下には、日々の進め方の詳細を記載します
### 1. チームビルディング
- まずはチームを構成します。以下の項目を決めましょう
- ここで決めた内容は成果振り返り会資料に記載する必要があるので、記録しておきましょう
#### チーム名
- これから数日間協力しあうことになります。結束力の高まるチーム名をつけましょう！
#### チームリーダー等、メンバーの役割
- チームリーダーは、期限内に要件を満たすことに責任を負います。進捗確認をしっかりやりましょう
- チームリーダーは技術的にメンバーを引っ張る技術リーダーと兼ねてもよいですし、別にしても構いません
- その他の役割には、構築担当、ドキュメント担当などがあります。メンバーの手すきの時間がでないよう、役割を決めましょう
#### 活動ポリシーを決める
- チームメンバー全員で、活動のポリシーを決めましょう。例えば「個人で15分考えてわからないことは周囲に相談する」などです
#### グランドルールの確認
- 「グランドルール」はオリエンテーションで紹介しています。全員が守るべきルールですので、再度目を通しておきましょう
### 2. 要件の把握
- チームが構成できたら、本演習ガイドの後半にある要件定義をよく読み、何を構築するのかを把握しましょう
- 要件には、演習期間内に達成が必須のものと、追加のものがあります。要件定義に（追加）とあるものが追加要件、そうでないものは必須です
- 要件には、あいまいと感じるものがあるかもしれません。その場合は質問内容をまとめ、講師に確認しましょう
### 3. WBS作成
- WBS (Work Breakdown Structure) は、タスク・担当者・スケジュールを可視化したものです。Excel等で作成してください（SaaSの利用はできません）
- 要件を把握したら、どんなタスクが必要になるかをチームメンバー全員で検討し、各タスクの担当者とスケジュールを決めましょう
     - 要件をタスクに落とし込むには、要件を実現するためにどんなことをしなくてはいけないか、を考える必要があります。例えば、インターネットにWebサイトを提供するサーバをクラウド上に展開するにはどんな要素が必要だったでしょうか？これまでの学習内容を思い出しながら、タスクを整理しましょう
- WBSのファイル名には日付をつけ、毎日の決められた時間に所定の場所にアップロードしましょう。講師が進捗を確認します
- 演習の最終日には、成果振り返り会があります。発表用資料を作成する担当者や作成にかかる時間を考慮するのを忘れないようにしましょう
### 4. 設計・テスト計画策定
- WBSの作成を終えたら、設計とテスト計画の策定を行います。要件を満たすためにはどんな要素がクラウドインフラ上に必要になるかを考えましょう
- ネット上の記事を参考にしても構いませんが、生成AIサービスの利用は禁止します
- 必要に応じてクラウド環境にログインしても構いません。ログインに必要な情報は研修システムから展開します（設計が終わるまでは構築は禁止します）
#### 設計
- 設計には全員が参加してください。設計の終わっていない段階では、構築を開始してはいけません
- 設計した内容は、パワーポイントに記録します。チームリーダーのPCにパワーポイントのファイルとして設計内容を残してください
#### 設計書に記載する内容
##### システム構成図
- サーバの役割とネットワーク構成の分かるものです
- AWSのアイコンは [AWSアイコンセット](https://d1.awsstatic.com/onedam/marketing-channels/website/aws/en_US/architecture/approved/architecture-icons/AWS-Architecture-Icon-Decks_07312025.7a0d768c4c08bf9ebf1e32b98e829870991c1cfa.zip) をクリックしてダウンロードしてください
##### パラメータシート
  - サーバのOS、ログイン情報、インストールされているソフトウェア、使用したクラウドインフラ上のサービス名と設定項目など、システムを構築するのに必要な情報
##### 記載内容について
- 設計書に記載する内容は、システムを再構築しないといけなくなったときに「設計書を見れば再構築できる」のを基準としてください
- 「なぜそのサービスを採用したのか」という設計意図も記載しましょう
- 書式は特に指定しません。ネット上の記事などを参考に作成してください
- 構築が始まった後に修正するのは構いません
#### テスト計画策定
- 設計がある程度進んだら、テスト計画を策定してください。設計と並行しても構いません
- テスト計画は、製品の品質を担保するために行う様々なテストについて記載するものです。テストの目的、テスト項目、テスト結果を記載します
- Excelファイルとして作成してください
- テストの項目は、アプリケーションの動作テスト（機能要件を満たしているか）と、サーバの障害テスト（サーバの停止などの際の挙動が設計通りかどうか）に大きく分かれます。顧客はどのようなことを気にするのか、自分が顧客だったらどんなシステムが必要なのかということについて想像力を働かせて作成してください
- システム構成図を見て、どこでどんな障害が発生しうるかを考えましょう。たくさんのテスト項目が出てくるはずです
### 5. 講師による設計レビュー
- 構築に進む前に、設計内容とテスト計画のレビューを講師から受けます。講師は、上司の視点からレビューを行います
- 指摘内容を反映して、レビューを早く通し、構築作業に入れるようにしましょう
- レビュー中は構築作業に進んではいけません。調べ物などの時間として有効に使いましょう
### 6. 構築・テスト
- いよいよ構築作業に入ります。WBSで予定した通りに、担当者は構築作業を進めましょう
- テストができる段階になったら、作成済みのテスト項目にそってテストを行い、品質を満たしているかを確認してください。テストの開始は全ての構築が完了するまで待つ必要がありませんが、手戻りが発生しないように効率よく進めましょう
### 7. 講師による必須要件のレビュー
- 構築とテストが終わったら、結果のレビューを講師に依頼します。講師が必須要件の設定内容とCMSの動作確認ができるように、デモを実施してください。テスト項目も講師が確認し、疑問点がある場合は講師から質問があります
- 必須要件が完了したら、追加要件に取り掛かります。講師のレビューが終わるまで、追加要件に進んではいけません
### 8. 追加要件
- 必須要件が全て終わったら、追加要件に取り組みます
- 追加要件も必須要件と同様にWBSに追記する形で計画を決めてから構築してください
### 9. 成果振り返り会準備、リハーサル
- 成果振り返り会で使う資料は、終盤になって慌てないように初めからWBSで担当者を決めて作成しましょう
- 発表前にはリハーサルを行い、必要に応じて講師からアドバイスを行います
### 10. 成果振り返り会（成果発表）
- 最後に、学習内容の共有の場として成果振り返り会を実施します
- 成果振り返り会の資料はパワーポイントで作成してください。内容には以下を含める必要があります
  - チーム名の由来
  - メンバーの役割
  - 活動ポリシー
  - 案件概要
  - スケジュール（予定と実績）
  - デモ
  - 振り返り（予定通り進められたか、進められた/進められなかった理由は何か、演習全体を通して何を思ったか、など）

## 要件定義
- ここからは、実現を依頼する要件を記載しています
### 機能要件
> 機能要件とは、アプリケーションが提供できる機能のことを指します
- CMS (Contents Management System) を WordPress で構築すること
    - WordPressのインストール方法は問わない
- インターネットからブログ等のコンテンツを参照できること
- コンテンツの管理はインターネット経由で行い、管理者のみコンテンツの管理（登録や変更作業）が行えること
### 非機能要件
> 非機能要件とは、アプリケーションの性能・信頼性・拡張性・セキュリティなど、機能以外の品質を指します
#### 環境
- AWSを使用すること
#### インフラ構成
- インターネットとの境界にはロードバランサを配置すること
- サーバOSは、長期サポートが保証されている無償の Red Hat系ディストリビューションを選択すること
  - Red Hat Enterprise Linux は使用しないこと
- データベースを含む各サーバのスペックは、2CPU/1GiBメモリとすること
- データベースはクラウドの提供するマネージドサービスを利用すること
  - データベースのストレージサイズは20GBとすること
  - データベースエンジンはMySQLで構成すること
- （追加）CMSで利用する静的アセットはオブジェクトストレージに配置すること
- （追加）インターネットとの境界にはエッジロケーションを利用し、静的アセットと動的コンテンツのルーティングを適切に実施すること
#### セキュリティ
##### ネットワーク
- インターネット向けセグメントとその他はレイヤ3レベルで分離すること
- ファイアウォールルールは厳格に定義すること
- CMSの動作するアプリケーションサーバとデータベースサーバへのインターネットからの直接アクセスは厳禁とする
	- ただしパッチ適用などのため、インターネットへの疎通は確保すること
- インターネットから全サーバへの直接のSSHは厳禁とする
- SSH接続のために踏み台となるサーバを用意すること。踏み台サーバへは、チームメンバーのアドレスからのみログインできるようにファイアーウォールを構成すること
- （追加）SessionManagerを使ってマネジメントコンソールから各サーバのシェルに接続できること
- （追加）インターネットとの接続はSSL/TLSで暗号化されていること。サーバ証明書の設定と管理はクラウドインフラ内で完結すること。なお、ドメイン名は当方から指定するものとする
##### その他
- CSIRTチームを構成し、セキュリティインシデントに対応するための体制図と対応フローを用意しておくこと
#### 可用性
- 各サーバの月間稼働率は99.95%を達成すること。そのためにリージョン内で複数の拠点にサーバを冗長化すること
  - ここでいうサーバとは、サーバ単体ではなく機能単位としてのサーバを指す
- インフラの障害テスト計画を策定し、テスト結果を障害テスト報告書として提示すること
- CMSの動作するサーバはCPU使用率が50％を超えないように自動スケールすること
- 自動スケールのテスト結果を報告書にまとめ提示すること
- （追加） DNSサーバの月間稼働率は100%を達成すること
#### 運用保守性
- リソース監視・ログ監視にはZabbixを用いること
- インフラに発生する各種障害はZabbixにより検知し、必要に応じてアラートが発報されること
- （追加）運用の効率化のため、CMSの構築手順などサーバの構成は全てAnsible Playbookで構成すること
- （追加）Ansible PlayBookは運用性や再利用性を考慮し、ロールによるモジュール化を行うこと
- （追加）構成変更をテストドリブンで行えるよう、Serverspecの更新から開始する運用フローを構築すること
- （追加）AWS上の構成は、CloudFotmationテンプレートもしくはCDKコードとして構成すること
## 期待する成果物
- 設計書一式
- テスト計画書（テストの目的、内容、結果を記載したもの）
- CMSが動作するAWS上の環境
- CSIRT体制図
### 追加要件の成果物
- CMSおよびZabbixサーバの構成管理用Ansible Playbook
- 上記をテストするためのServerspecコード
- 上記2点を実行可能な環境を持つLinuxホスト
- データベース初期化作業などが必要であれば、シェルスクリプトのような自動化された仕組み
- AWSインフラを構成するためのCloudFormationもしくはCDKテンプレート
